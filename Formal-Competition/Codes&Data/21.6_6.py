import math

import matplotlib.pyplot as plt

from Lib_6 import *
plt.rc('text',usetex=True)
plt.rc('font', family='serif')

def guiyi(dflist):
    df1,df2,df3=dflist
    s=(sum([i**2 for i in dflist]))**0.5
    return df1/s,df2/s,df3/s

def function_one(x1,x2,x3):
    f=0.057887797815248235*x1-0.1758891724397263*x2-0.11620566483160263*x3-0.18461542159090832*x1*x2-0.0907466317177971*x1*x3-0.24355665831425927*x2*x3-0.2468742489209547*x1*x2*x3
    df1=0.057887797815248235-0.18461542159090832*x2-0.0907466317177971*x3-0.2468742489209547*x2*x3
    df2=-0.1758891724397263-0.18461542159090832*x1-0.24355665831425927*x3-0.2468742489209547*x1*x3
    df3=-0.11620566483160263-0.0907466317177971*x1-0.24355665831425927*x2-0.2468742489209547*x1*x2

    return f, df1, df2,df3  # 返回三个值

def main1():
    x1 = 0.6772315799900468
    x2 = 0.6503411731864872
    x3 = 0.35459014706102954

    k=1
    error = 0.000001  # 设置误差函数

    f, df1, df2,df3 = function_one(x1, x2,x3)  # 算出初始的值

    # for i in range(100):  # 开始循环 梯度下降 设置循环的次数
    ans=[]
    a=0.0001
    iteration=5000
    flag1,flag2,flag3=1,1,1
    for k in range(iteration):
        if flag1|flag2|flag3==0:
            break
        if not 0<=x1-a*df1<=1:
            flag1=0
        if not 0<=x2-a*df2<=1:
            flag2=0
        if not 0<=x3-a*df3<=1:
            flag3=0
        if flag1 == 0: df1 = 0
        if flag2 == 0: df2 = 0
        if flag3 == 0: df3 = 0
        df1,df2,df3=guiyi([df1,df2,df3])
        ans.append([x1,x2,x3,f])
        x1 -= a * df1
        x2 -= a * df2
        x3 -= a * df3
        f, df1, df2, df3 = function_one(x1, x2, x3)  # 算出初始的值
    return ans
'''
第 64 次循环, 函数值为 0.729353
x的值为 0.8356598289010058 0.997425681188058 0.6998345556462235
第 65 次循环, 函数值为 0.738964
x的值为 0.8392806924593129 1.003875602417913 0.7062419601321152
[0.6787444140311079, 0.6802806280335504, 0.6818404377128323, 0.6834240612527189, 0.6850317193419337, 0.6866636352114792, 0.6883200346726416, 0.6900011461556937, 0.6917072007493126, 0.6934384322407245, 0.6951950771565963, 0.6969773748046864, 0.6987855673162737, 0.7006198996893811, 0.7024806198328097, 0.7043679786110034, 0.7062822298897605, 0.7082236305828125, 0.7101924406992872, 0.7121889233920786, 0.7142133450071405, 0.7162659751337274, 0.7183470866556017, 0.7204569558032304, 0.7225958622069932, 0.7247640889514235, 0.7269619226305085, 0.7291896534040699, 0.7314475750552513, 0.733735985049137, 0.7360551845925288, 0.7384054786949074, 0.740787176230604, 0.7432005900022141, 0.7456460368052782, 0.7481238374942616, 0.7506343170498629, 0.7531778046476828, 0.7557546337282842, 0.7583651420686786, 0.7610096718552701, 0.7636885697582945, 0.7664021870077864, 0.7691508794711137, 0.771935007732115, 0.7747549371718797, 0.777611038051211, 0.7805036855948119, 0.783433260077236, 0.786400146910648, 0.7894047367344362, 0.7924474255067246, 0.7955286145978302, 0.7986487108857143, 0.8018081268534784, 0.8050072806889539, 0.8082465963864404, 0.8115265038506446, 0.8148474390028774, 0.8182098438895646, 0.8216141667931324, 0.8250608623453254, 0.8285503916430229, 0.8320832223666149, 0.8356598289010058]
[0.6548068097066192, 0.6592948496625467, 0.6638054816135145, 0.6683388965003761, 0.6728952876823229, 0.6774748509742784, 0.6820777846849723, 0.6867042896557074, 0.691354569299836, 0.6960288296429588, 0.7007272793638647, 0.7054501298362248, 0.7101975951710581, 0.7149698922599864, 0.7197672408192943, 0.7245898634348126, 0.7294379856076428, 0.7343118358007426, 0.7392116454863882, 0.7441376491945372, 0.7490900845621085, 0.7540691923832011, 0.7590752166602734, 0.764108404656303, 0.7691690069479505, 0.7742572774797497, 0.7793734736193463, 0.7845178562138108, 0.7896906896470488, 0.7948922418983343, 0.8001227846019914, 0.8053825931082517, 0.8106719465453136, 0.8159911278826324, 0.8213404239954688, 0.8267201257307261, 0.8321305279741054, 0.8375719297186112, 0.8430446341344376, 0.8485489486402693, 0.854085184976029, 0.8596536592771089, 0.8652546921501183, 0.8708886087501863, 0.876555738859855, 0.8822564169696046, 0.8879909823600453, 0.8937597791858223, 0.8995631565612711, 0.9054014686478676, 0.9112750747435188, 0.917184339373736, 0.9231296323847412, 0.9291113290385512, 0.9351298101100911, 0.9411854619863868, 0.9472786767678896, 0.9534098523719859, 0.959579392638748, 0.9657877074389821, 0.972035212784633, 0.9783223309416055, 0.9846494905450639, 0.9910171267172748, 0.997425681188058]
[0.3590380299419226, 0.3635080737388195, 0.3680004632675945, 0.37251538570206455, 0.3770530306104836, 0.38161358999270034, 0.3861972583179924, 0.39080423256359265, 0.3954347122539214, 0.40008889950054044, 0.40476699904284397, 0.4094692182895026, 0.4141957673606767, 0.4189468591310158, 0.4237227092734615, 0.4285235363038708, 0.43334956162647864, 0.4382010095802176, 0.4430781074859143, 0.447981085694381, 0.4529101776354234, 0.45786561986778435, 0.4628476521300447, 0.46785651739250295, 0.47289246191005524, 0.47795573527609897, 0.48304659047748294, 0.48816528395052766, 0.49331207563814067, 0.49848722904805176, 0.5036910113121937, 0.5089236932472554, 0.5141855494164337, 0.519476858192413, 0.5247979018216, 0.5301489664896438, 0.5355303423882709, 0.5409423237834665, 0.5463852090850339, 0.5518593009175641, 0.5573649061928498, 0.5629023361837784, 0.5684719065997378, 0.574073937663574, 0.5797087541901353, 0.5853766856664441, 0.5910780663335321, 0.5968132352699842, 0.6025825364772289, 0.6083863189666199, 0.6142249368483522, 0.6200987494222595, 0.6260081212705376, 0.6319534223524427, 0.6379350281010142, 0.6439533195218722, 0.6500086832941421, 0.6561015118735597, 0.6622322035978128, 0.668401162794175, 0.6746087998894919, 0.680855531522577, 0.6871417806590839, 0.693467976708913, 0.6998345556462235]
[-0.31842565171075243, -0.3226858990811646, -0.3269939890866737, -0.3313506495979898, -0.3357566219980455, -0.3402126614728514, -0.3447195373094851, -0.34927803320141165, -0.35388894756133815, -0.3585530938418137, -0.3632713008637898, -0.36804441315336306, -0.37287329128693314, -0.3777588122450098, -0.3827018697749156, -0.38770337476263506, -0.3927642556140726, -0.397885458645984, -0.4030679484868628, -0.40831270848806406, -0.41362074114546177, -0.41899306853194385, -0.42443073274106025, -0.42993479634214576, -0.4355063428472558, -0.4411464771902581, -0.44685632621843885, -0.45263703919699183, -0.45848978832677073, -0.4644157692756987, -0.4704162017242409, -0.4764923299253607, -0.4826454232793927, -0.48887677692428033, -0.4951877123416436, -0.5015795779791519, -0.5080537498897014, -0.5146116323879057, -0.5212546587244292, -0.5279842917787116, -0.5348020247706489, -0.5417093819918143, -0.5487079195568282, -0.5557992261754987, -0.5629849239463851, -0.5702666691724524, -0.5776461531995095, -0.5851251032781536, -0.5927052834499593, -0.6003884954586849, -0.6081765796872909, -0.6160714161215989, -0.6240749253414405, -0.6321890695401856, -0.6404158535735646, -0.6487573260387337, -0.6572155803845707, -0.665792756054217, -0.674491039660923, -0.6833126661982984, -0.6922599202860923, -0.7013351374526915, -0.7105407054555501, -0.7198790656408202, -0.7293527143434955]
'''

def main2():
    x1 = 0.6772315799900468
    x2 = 0.6503411731864872
    x3 = 0.35459014706102954

    a=0.01

    error = 0.000001  # 设置误差函数

    f_old, df1, df2,df3 = function_one(x1, x2,x3)  # 算出初始的值

    # for i in range(100):  # 开始循环 梯度下降 设置循环的次数
    i=0
    list1=[]
    list2=[]
    list3=[]
    flist=[]
    while x1>=0 and x1<=1 and x2>=0 and x2<=1 and x3>=0 and x3<=1:
        b = sorted([df1,df2,df3], reverse=True)
        if b[0]==df1:
            x1 -= a * df1
        if b[0]==df2:
            x2 -= a * df2
        if b[0]==df3:
            x3 -= a * df3
        f_result, df1, df2,df3 = function_one(x1, x2,x3)  # 获得第一次计算的初始值

        if abs(f_result - f_old) < error:  # 下降的结果绝对值与误差进行比较 如果再允许范围内则终止
            f_final = f_result
            print("最小值为： %.5f, 循环次数： %d, 误差：%8f" % (f_final, i, abs(f_result - f_old)))
            break
        print("第 %d 次循环, 函数值为 %f" % (i, -f_result))
        print("x的值为",x1,x2,x3)
        list1.append(x1)
        list2.append(x2)
        list3.append(x3)
        flist.append(f_result)
        i+=1
        f_old = f_result
    del list1[-1]
    del list2[-1]
    del list3[-1]
    del flist[-1]
    return list1,list2,list3,flist
'''
第 212 次循环, 函数值为 0.362961
x的值为 0.999465230736053 0.6503411731864872 0.35459014706102954
第 213 次循环, 函数值为 0.363190
x的值为 1.000978064777114 0.6503411731864872 0.35459014706102954
[0.6787444140311079, 0.6802572480721689, 0.68177008211323, 0.683282916154291, 0.6847957501953521, 0.6863085842364132, 0.6878214182774742, 0.6893342523185353, 0.6908470863595964, 0.6923599204006574, 0.6938727544417185, 0.6953855884827795, 0.6968984225238406, 0.6984112565649017, 0.6999240906059627, 0.7014369246470238, 0.7029497586880848, 0.7044625927291459, 0.705975426770207, 0.707488260811268, 0.7090010948523291, 0.7105139288933902, 0.7120267629344512, 0.7135395969755123, 0.7150524310165733, 0.7165652650576344, 0.7180780990986955, 0.7195909331397565, 0.7211037671808176, 0.7226166012218787, 0.7241294352629397, 0.7256422693040008, 0.7271551033450618, 0.7286679373861229, 0.730180771427184, 0.731693605468245, 0.7332064395093061, 0.7347192735503671, 0.7362321075914282, 0.7377449416324893, 0.7392577756735503, 0.7407706097146114, 0.7422834437556725, 0.7437962777967335, 0.7453091118377946, 0.7468219458788556, 0.7483347799199167, 0.7498476139609778, 0.7513604480020388, 0.7528732820430999, 0.754386116084161, 0.755898950125222, 0.7574117841662831, 0.7589246182073441, 0.7604374522484052, 0.7619502862894663, 0.7634631203305273, 0.7649759543715884, 0.7664887884126494, 0.7680016224537105, 0.7695144564947716, 0.7710272905358326, 0.7725401245768937, 0.7740529586179548, 0.7755657926590158, 0.7770786267000769, 0.7785914607411379, 0.780104294782199, 0.7816171288232601, 0.7831299628643211, 0.7846427969053822, 0.7861556309464433, 0.7876684649875043, 0.7891812990285654, 0.7906941330696264, 0.7922069671106875, 0.7937198011517486, 0.7952326351928096, 0.7967454692338707, 0.7982583032749317, 0.7997711373159928, 0.8012839713570539, 0.8027968053981149, 0.804309639439176, 0.8058224734802371, 0.8073353075212981, 0.8088481415623592, 0.8103609756034202, 0.8118738096444813, 0.8133866436855424, 0.8148994777266034, 0.8164123117676645, 0.8179251458087256, 0.8194379798497866, 0.8209508138908477, 0.8224636479319087, 0.8239764819729698, 0.8254893160140309, 0.8270021500550919, 0.828514984096153, 0.830027818137214, 0.8315406521782751, 0.8330534862193362, 0.8345663202603972, 0.8360791543014583, 0.8375919883425194, 0.8391048223835804, 0.8406176564246415, 0.8421304904657025, 0.8436433245067636, 0.8451561585478247, 0.8466689925888857, 0.8481818266299468, 0.8496946606710079, 0.8512074947120689, 0.85272032875313, 0.854233162794191, 0.8557459968352521, 0.8572588308763132, 0.8587716649173742, 0.8602844989584353, 0.8617973329994963, 0.8633101670405574, 0.8648230010816185, 0.8663358351226795, 0.8678486691637406, 0.8693615032048017, 0.8708743372458627, 0.8723871712869238, 0.8739000053279848, 0.8754128393690459, 0.876925673410107, 0.878438507451168, 0.8799513414922291, 0.8814641755332902, 0.8829770095743512, 0.8844898436154123, 0.8860026776564733, 0.8875155116975344, 0.8890283457385955, 0.8905411797796565, 0.8920540138207176, 0.8935668478617786, 0.8950796819028397, 0.8965925159439008, 0.8981053499849618, 0.8996181840260229, 0.901131018067084, 0.902643852108145, 0.9041566861492061, 0.9056695201902671, 0.9071823542313282, 0.9086951882723893, 0.9102080223134503, 0.9117208563545114, 0.9132336903955725, 0.9147465244366335, 0.9162593584776946, 0.9177721925187556, 0.9192850265598167, 0.9207978606008778, 0.9223106946419388, 0.9238235286829999, 0.925336362724061, 0.926849196765122, 0.9283620308061831, 0.9298748648472441, 0.9313876988883052, 0.9329005329293663, 0.9344133669704273, 0.9359262010114884, 0.9374390350525494, 0.9389518690936105, 0.9404647031346716, 0.9419775371757326, 0.9434903712167937, 0.9450032052578548, 0.9465160392989158, 0.9480288733399769, 0.9495417073810379, 0.951054541422099, 0.9525673754631601, 0.9540802095042211, 0.9555930435452822, 0.9571058775863432, 0.9586187116274043, 0.9601315456684654, 0.9616443797095264, 0.9631572137505875, 0.9646700477916486, 0.9661828818327096, 0.9676957158737707, 0.9692085499148317, 0.9707213839558928, 0.9722342179969539, 0.9737470520380149, 0.975259886079076, 0.976772720120137, 0.9782855541611981, 0.9797983882022592, 0.9813112222433202, 0.9828240562843813, 0.9843368903254424, 0.9858497243665034, 0.9873625584075645, 0.9888753924486255, 0.9903882264896866, 0.9919010605307477, 0.9934138945718087, 0.9949267286128698, 0.9964395626539309, 0.9979523966949919, 0.999465230736053]
[0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872, 0.6503411731864872]
[0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954, 0.35459014706102954]
[-0.31444139901661755, -0.31467026570019685, -0.31489913238377615, -0.3151279990673555, -0.3153568657509348, -0.31558573243451415, -0.31581459911809345, -0.3160434658016727, -0.31627233248525205, -0.31650119916883135, -0.3167300658524107, -0.31695893253599, -0.31718779921956936, -0.3174166659031486, -0.31764553258672795, -0.31787439927030725, -0.31810326595388655, -0.31833213263746585, -0.3185609993210452, -0.3187898660046245, -0.3190187326882038, -0.31924759937178315, -0.31947646605536245, -0.31970533273894175, -0.31993419942252105, -0.32016306610610035, -0.3203919327896797, -0.32062079947325905, -0.32084966615683835, -0.32107853284041765, -0.32130739952399695, -0.32153626620757625, -0.3217651328911556, -0.32199399957473485, -0.3222228662583142, -0.32245173294189355, -0.32268059962547285, -0.32290946630905215, -0.32313833299263145, -0.32336719967621075, -0.3235960663597901, -0.32382493304336935, -0.3240537997269487, -0.324282666410528, -0.3245115330941073, -0.32474039977768665, -0.32496926646126595, -0.32519813314484525, -0.3254269998284246, -0.32565586651200396, -0.32588473319558325, -0.32611359987916255, -0.32634246656274185, -0.3265713332463211, -0.32680019992990045, -0.32702906661347975, -0.3272579332970591, -0.3274867999806384, -0.3277156666642177, -0.32794453334779705, -0.32817340003137635, -0.32840226671495565, -0.328631133398535, -0.32886000008211425, -0.3290888667656936, -0.3293177334492729, -0.3295466001328522, -0.32977546681643155, -0.33000433350001085, -0.33023320018359015, -0.33046206686716945, -0.3306909335507488, -0.33091980023432815, -0.33114866691790745, -0.3313775336014867, -0.33160640028506605, -0.33183526696864535, -0.33206413365222465, -0.332293000335804, -0.33252186701938324, -0.3327507337029626, -0.33297960038654195, -0.33320846707012125, -0.33343733375370055, -0.33366620043727985, -0.33389506712085915, -0.33412393380443844, -0.3343528004880178, -0.33458166717159715, -0.33481053385517645, -0.33503940053875575, -0.33526826722233505, -0.33549713390591435, -0.33572600058949364, -0.335954867273073, -0.33618373395665235, -0.33641260064023165, -0.3366414673238109, -0.33687033400739025, -0.33709920069096955, -0.33732806737454885, -0.33755693405812814, -0.3377858007417075, -0.33801466742528685, -0.33824353410886615, -0.33847240079244545, -0.33870126747602475, -0.33893013415960405, -0.33915900084318334, -0.33938786752676264, -0.339616734210342, -0.3398456008939213, -0.34007446757750065, -0.34030333426107995, -0.34053220094465925, -0.34076106762823855, -0.3409899343118179, -0.3412188009953972, -0.34144766767897655, -0.34167653436255585, -0.3419054010461351, -0.34213426772971445, -0.34236313441329375, -0.34259200109687304, -0.34282086778045234, -0.3430497344640317, -0.34327860114761105, -0.34350746783119035, -0.34373633451476965, -0.343965201198349, -0.34419406788192825, -0.34442293456550754, -0.3446518012490869, -0.3448806679326662, -0.34510953461624555, -0.34533840129982485, -0.34556726798340415, -0.34579613466698345, -0.34602500135056274, -0.34625386803414215, -0.34648273471772145, -0.34671160140130075, -0.34694046808488005, -0.34716933476845935, -0.34739820145203865, -0.34762706813561794, -0.3478559348191973, -0.34808480150277654, -0.34831366818635595, -0.34854253486993525, -0.34877140155351455, -0.34900026823709385, -0.34922913492067315, -0.34945800160425244, -0.34968686828783174, -0.3499157349714111, -0.35014460165499045, -0.35037346833856975, -0.35060233502214905, -0.35083120170572835, -0.35106006838930764, -0.35128893507288694, -0.3515178017564663, -0.35174666844004565, -0.3519755351236249, -0.3522044018072042, -0.35243326849078355, -0.35266213517436285, -0.35289100185794214, -0.35311986854152144, -0.3533487352251008, -0.3535776019086801, -0.35380646859225945, -0.35403533527583875, -0.35426420195941805, -0.35449306864299734, -0.35472193532657664, -0.35495080201015594, -0.3551796686937353, -0.3554085353773146, -0.35563740206089395, -0.35586626874447325, -0.35609513542805254, -0.35632400211163184, -0.3565528687952112, -0.35678173547879055, -0.3570106021623698, -0.3572394688459491, -0.35746833552952845, -0.35769720221310775, -0.35792606889668704, -0.35815493558026634, -0.35838380226384564, -0.358612668947425, -0.35884153563100435, -0.35907040231458365, -0.35929926899816295, -0.35952813568174224, -0.35975700236532154, -0.35998586904890084, -0.3602147357324802, -0.36044360241605944, -0.36067246909963885, -0.3609013357832181, -0.36113020246679745, -0.36135906915037674, -0.36158793583395604, -0.3618168025175354, -0.3620456692011147, -0.362274535884694, -0.3625034025682733, -0.36273226925185265, -0.36296113593543194]
'''

def plot2(list1,list2,list3):
    # index1=[i for i in range(len(list1))]
    # plt.plot(index1,list1)
    # plt.show()
    plt.plot(list1,list2)
    plt.xlabel('$x_1$')
    plt.ylabel('$x_2$')
    plt.savefig('./image/x1_x2.png', dpi=1000)
    plt.show()
    plt.plot(list2, list3)
    plt.xlabel('$x_2$')
    plt.ylabel('$x_3$')
    plt.savefig('./image/x2_x3.png', dpi=1000)
    plt.show()
    plt.plot(list1, list3)
    plt.xlabel('$x_1$')
    plt.ylabel('$x_3$')
    plt.savefig('./image/x1_x3.png', dpi=1000)
    plt.show()

def Singleplot2(x1,y1,z1,x2,y2,z2,name):

    ax = plt.subplot(111, projection='3d')

    ax.plot(x1, y1, z1)
    ax.plot(x2,y2,z2)
    ax.set_xlabel('x')
    ax.set_ylabel('y')
    ax.set_zlabel('z')
    plt.savefig('./image/' + name + '.png', dpi=1000)
    plt.show()

if __name__ == '__main__':
    ans=main1()
    # print(list1)
    # print(list2)
    # print(list3)
    # print(flist)
    x1,x2,x3,y=zip(*ans)
    Singleplot(x1,x2,x3,'标准梯度下降变量三维法')
    plot1(y,'标准梯度下降法y值图')
    plot2(x1,x2,x3)

    # list1_2,list2_2,list3_2,flist_2=main2()
    # print(list1_2)
    # print(list2_2)
    # print(list3_2)
    # print(flist_2)
    # # Singleplot(list1,list2,list3,'改版梯度下降法变量三维图')
    # # plot1(flist,'改版梯度下降法y值图')
    # # plot2(list1,list2,list3)
    #
    # Singleplot2(list1,list2,list3,list1_2,list2_2,list3_2,'画一起')


